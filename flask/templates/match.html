{% extends "base_template.html" %} {% block content %}
<div class="container-fluid align-items-center h-100 rounded-4 p-4">
  <div class="d-flex flex-column h-100 p-4 gap-4">
    <h1 class="">Match</h1>
    <ul class="list-group">
      {% for index in range(professors|length) %}
      <li class="list-group-item">
        <a href="{{ url_for('professor', prof_id=professors[index].pid) }}" class="link-underline link-underline-opacity-0">
          <h2 class="fs-4">{{ professors[index].name }}</h2>
        </a>
        <p>{{ generated_descriptions[index] }}</p>
      </li>
      {% endfor %}
    </ul>
    
    <form method="POST" action="{{ url_for('match') }}">
      <div class="overflow-auto" style="height: 25vw">
        <ul class="list-group mb-3">
          <li class="list-group-item" aria-current="true">
            <label>
              <input type="checkbox" id="select-all-checkbox" /> Select All
            </label>
          </li>
          {% for course in courses|sort(attribute='name') %}
          <li class="list-group-item" aria-current="true">
            <label>
              <input
                type="checkbox"
                name="courses[]"
                value="{{ course.cid }}"
              />
              {{ course.name }}
            </label>
          </li>
          {% endfor %}
        </ul>
      </div>
      <div class="mb-3">
        <label for="attendance" class="form-label">Attendance</label>
        <select class="form-select" id="attendance" name="attendance">
          <option value="true">Mandatory</option>
          <option value="false">Optional</option>
        </select>
      </div>
      <button type="submit" class="btn btn-primary mb-3">
        Find Professors
      </button>
    </form>
    <form>  
      <div class="mb-3">
        <label for="exampleFormControlTextarea1" class="form-label">Message</label>
        <textarea class="form-control rounded-pill" id="exampleFormControlTextarea1" rows="3" placeholder="Enter your message"></textarea>
      </div>
      <button type="submit" class="btn btn-primary rounded-pill">Submit</button>
    </form>
  </div>
  
</div>

<script>
  document
    .getElementById("select-all-checkbox")
    .addEventListener("change", function () {
      var checkboxes = document.querySelectorAll(
        'input[type="checkbox"][name="courses[]"]'
      );
      checkboxes.forEach(function (checkbox) {
        checkbox.checked = this.checked;
      }, this);
    });
</script>
{% endblock %}
