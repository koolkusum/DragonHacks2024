{% extends "base_template.html" %} {% block content %}
<div class="container-fluid align-items-center rounded-4 vh-100 p-4">
  <div class="d-flex align-items-center gap-3">
    <div class="container-fluid">
      <h3 class="display-3">Courses</h3>
      <ul class="list-group">
        {% for course_id in prof.cids %} {% set course =
        courses.filter(cid=course_id).first() %}
        <li class="list-group-item" aria-current="true">
          <a
            href="{{ url_for('course', course_id=course.cid) }}"
            class="link-underline link-underline-opacity-0"
          >
            <h2>{{ course.name }}</h2>
          </a>
        </li>
        {% endfor %}
      </ul>
    </div>
    <div class="flex flex-fill bg-body p-4 rounded-3">
      <h2 class="display-3 text-center">{{ prof.name }}</h2>
      <p>{{ prof.description }}</p>
      <p>
        Requires Attendance: {% if prof.attendance %} Yes {% else %} No {% endif
        %}
      </p>
    </div>
  </div>

  <h3>Reviews:</h3>
  <ul>
    {% for review_id in prof.rids %} {% set review =
    reviews.filter(rid=review_id).first() %}
    <li>{{ review.title }}</li>
    <!-- Display the name of the associated course -->
    {% set course = courses.filter(cid=review.cid).first() %}
    <p>Course: {{ course.name }}</p>
    <p>Description: {{ review.desciption }}</p>
    {% endfor %}
  </ul>

  <!-- Section to Add a Review -->
  <h3>Add a Review:</h3>
  <form method="POST" action="{{ url_for('add_review', prof_id=prof.pid) }}">
      <label for="course">Select Course:</label>
      <select name="course" id="course">
          {% for course_id in prof.cids %}
              {% set course = courses.filter(cid=course_id).first() %}
              <option value="{{ course.cid }}">{{ course.name }}</option>
          {% endfor %}
      </select>
      <br>
      <label for="title">Title:</label><br>
      <input type="text" id="title" name="title" required><br>
      <label for="description">Description:</label><br>
      <textarea id="description" name="description" rows="4" cols="50" required></textarea><br>
      <input type="submit" value="Submit Review">
  </form>
</div>
{% endblock %}
